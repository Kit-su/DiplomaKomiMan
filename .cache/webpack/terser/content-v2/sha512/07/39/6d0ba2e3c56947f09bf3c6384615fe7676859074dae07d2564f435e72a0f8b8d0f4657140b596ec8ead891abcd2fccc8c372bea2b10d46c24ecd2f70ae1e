{"map":{"version":3,"sources":["18ce3098d0c3daadc76c.worker.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","7lWc","__webpack_exports__","actions_namespaceObject","SET_VIEWPORT_STATE","RESET_EVALUATING_STATE","RESET_BEST_PATH_STATE","SET_ALGORITHM","SET_DELAY","SET_EVALUATING_DETAIL_LEVEL","SET_SHOW_BEST_PATH","START_SOLVING","GO_FULL_SPEED","PAUSE","UNPAUSE","STOP_SOLVING","SET_BEST_PATH","SET_EVALUATING_PATHS","START_DEFINING_POINTS","ADD_DEFINED_POINT","STOP_DEFINING_POINTS","SET_POINT_COUNT","SET_POINTS","SET_DEFAULT_MAP","TOGGLE_SITE_INFO_OPEN","TOGGLE_ALG_INFO_OPEN","toggleSiteInfoOpen","toggleAlgInfoOpen","setViewportState","startSolvingAction","stopSolvingAction","setAlgorithm","setDelay","setEvaluatingDetailLevel","setShowBestPath","resetSolverState","startSolving","goFullSpeed","pause","unpause","stopSolving","setEvaluatingPath","setEvaluatingPaths","setBestPath","startDefiningPoints","addDefinedPoint","stopDefiningPoints","setPointCount","randomizePoints","setDefaultMap","emitCustomEvent","ev","window","dataLayer","push","console","log","getRandomPoint","max","min","Math","random","type","viewport","resetEvaluatingStateAction","points","delay","evaluatingDetailLevel","fullSpeed","algorithm","defaults","dispatch","setAlgorithmAction","level","show","_len","arguments","length","args","Array","_key","getState","pointCount","event","apply","path","cost","paths","point","count","setPointCountAction","bounds","top","bottom","left","right","from","map","_","setPointsAction","_arrayLikeToArray","arr","len","arr2","_toConsumableArray","isArray","_arrayWithoutHoles","iter","iterator","_iterableToArray","minLen","toString","slice","constructor","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","pathCost","idx","pt1","pt2","lng1","lat1","lng2","lat2","radlat1","PI","radlat2","theta","radtheta","dist","sin","cos","acos","distance","reduce","a","b","counterClockWise","q","EVALUATING_PATH_COLOR","EVALUATING_SEGMENT_COLOR","solver","run","async","self","postMessage","wrapSolver","solverConfig","detailLevel","paused","getPaths","getPath","waitPause","Promise","resolve","setTimeout","sleep","duration","onmessage","data","action","_ref","Error","solvers_makeSolver","sp","leftmost","curPoint","selectedIdx","selectedPoint","entries","color","splice","bestRatio","bestPointIdx","insertIdx","Infinity","freeIdx","freePoint","bestCost","bestIdx","pathIdx","pathPoint","nextPathPoint","evalCost","nextPoint","prevCost","ratio","startingPoint","startIdx","findIndex","unshift","rotateToStartingPoint"],"mappings":"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"},"code":"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"/\",n(n.s=\"7lWc\")}({\"7lWc\":function(t,e,n){\"use strict\";n.r(e);var r={};n.r(r),n.d(r,\"SET_VIEWPORT_STATE\",(function(){return s})),n.d(r,\"RESET_EVALUATING_STATE\",(function(){return i})),n.d(r,\"RESET_BEST_PATH_STATE\",(function(){return u})),n.d(r,\"SET_ALGORITHM\",(function(){return a})),n.d(r,\"SET_DELAY\",(function(){return l})),n.d(r,\"SET_EVALUATING_DETAIL_LEVEL\",(function(){return f})),n.d(r,\"SET_SHOW_BEST_PATH\",(function(){return c})),n.d(r,\"START_SOLVING\",(function(){return p})),n.d(r,\"GO_FULL_SPEED\",(function(){return d})),n.d(r,\"PAUSE\",(function(){return T})),n.d(r,\"UNPAUSE\",(function(){return E})),n.d(r,\"STOP_SOLVING\",(function(){return S})),n.d(r,\"SET_BEST_PATH\",(function(){return _})),n.d(r,\"SET_EVALUATING_PATHS\",(function(){return y})),n.d(r,\"START_DEFINING_POINTS\",(function(){return v})),n.d(r,\"ADD_DEFINED_POINT\",(function(){return g})),n.d(r,\"STOP_DEFINING_POINTS\",(function(){return P})),n.d(r,\"SET_POINT_COUNT\",(function(){return h})),n.d(r,\"SET_POINTS\",(function(){return A})),n.d(r,\"SET_DEFAULT_MAP\",(function(){return I})),n.d(r,\"TOGGLE_SITE_INFO_OPEN\",(function(){return O})),n.d(r,\"TOGGLE_ALG_INFO_OPEN\",(function(){return L})),n.d(r,\"toggleSiteInfoOpen\",(function(){return m})),n.d(r,\"toggleAlgInfoOpen\",(function(){return b})),n.d(r,\"setViewportState\",(function(){return D})),n.d(r,\"startSolvingAction\",(function(){return G})),n.d(r,\"stopSolvingAction\",(function(){return M})),n.d(r,\"setAlgorithm\",(function(){return C})),n.d(r,\"setDelay\",(function(){return U})),n.d(r,\"setEvaluatingDetailLevel\",(function(){return F})),n.d(r,\"setShowBestPath\",(function(){return V})),n.d(r,\"resetSolverState\",(function(){return H})),n.d(r,\"startSolving\",(function(){return R})),n.d(r,\"goFullSpeed\",(function(){return j})),n.d(r,\"pause\",(function(){return B})),n.d(r,\"unpause\",(function(){return k})),n.d(r,\"stopSolving\",(function(){return x})),n.d(r,\"setEvaluatingPath\",(function(){return W})),n.d(r,\"setEvaluatingPaths\",(function(){return Y})),n.d(r,\"setBestPath\",(function(){return z})),n.d(r,\"startDefiningPoints\",(function(){return $})),n.d(r,\"addDefinedPoint\",(function(){return q})),n.d(r,\"stopDefiningPoints\",(function(){return J})),n.d(r,\"setPointCount\",(function(){return K})),n.d(r,\"randomizePoints\",(function(){return Q})),n.d(r,\"setDefaultMap\",(function(){return X}));var o=t=>{\"undefined\"!=typeof window&&window.dataLayer?window.dataLayer.push(t):console.log(t)};const s=\"SET_VIEWPORT_STATE\",i=\"RESET_EVALUATING_STATE\",u=\"RESET_BEST_PATH_STATE\",a=\"SET_ALGORITHM\",l=\"SET_DELAY\",f=\"SET_EVALUATING_DETAIL_LEVEL\",c=\"SET_SHOW_BEST_PATH\",p=\"START_SOLVING\",d=\"GO_FULL_SPEED\",T=\"PAUSE\",E=\"UNPAUSE\",S=\"STOP_SOLVING\",_=\"SET_BEST_PATH\",y=\"SET_EVALUATING_PATHS\",v=\"START_DEFINING_POINTS\",g=\"ADD_DEFINED_POINT\",P=\"STOP_DEFINING_POINTS\",h=\"SET_POINT_COUNT\",A=\"SET_POINTS\",I=\"SET_DEFAULT_MAP\",O=\"TOGGLE_SITE_INFO_OPEN\",L=\"TOGGLE_ALG_INFO_OPEN\",N=(t,e)=>Math.random()*(t-e)+e,m=()=>({type:O}),b=()=>({type:L}),D=t=>({type:s,viewport:t}),w=()=>({type:i}),G=(t,e,n)=>({type:p,points:t,delay:e,evaluatingDetailLevel:n,fullSpeed:!1}),M=()=>({type:S}),C=function(t,e){return void 0===e&&(e={}),n=>{n(w()),n(((t,e)=>({type:a,algorithm:t,defaults:e}))(t,e))}},U=t=>({type:l,delay:t}),F=t=>({type:f,level:t}),V=t=>({type:c,show:t}),H=()=>t=>{t(x()),t(w()),t({type:u})},R=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(t,n)=>{const{algorithm:r,pointCount:s}=n();o({event:\"start-solving\",algorithm:r,pointCount:s}),t(w()),t(G.apply(void 0,e))}},j=()=>({type:d}),B=()=>({type:T}),k=()=>({type:E}),x=()=>t=>{t(w()),t(M())},W=(t,e)=>({type:y,paths:[t],cost:e}),Y=(t,e)=>({type:y,paths:t,cost:e}),z=(t,e)=>({type:_,path:t,cost:e}),$=()=>t=>{t(H()),t({type:v})},q=t=>({type:g,point:t}),J=()=>({type:P}),K=t=>e=>{e(H()),e((t=>({type:h,count:t}))(t))},Q=t=>(e,n)=>{const{pointCount:r}=n(),{top:o,bottom:s,left:i,right:u}=t,a=Array.from({length:r}).map(t=>[N(u,i),N(o,s)]);e(H()),e((t=>({type:A,points:t}))(a))},X=function(){return t=>{t(H()),t({type:I})}};function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tt(t){return function(t){if(Array.isArray(t))return Z(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}const et=t=>t.slice(0,-1).map((e,n)=>((t,e)=>{const[n,r]=t,[o,s]=e;if(r===s&&n===o)return 0;var i=Math.PI*r/180,u=Math.PI*s/180,a=n-o,l=Math.PI*a/180,f=Math.sin(i)*Math.sin(u)+Math.cos(i)*Math.cos(u)*Math.cos(l);return f>1&&(f=1),60*(f=180*(f=Math.acos(f))/Math.PI)*1.1515*1.609344})(e,t[n+1])).reduce((t,e)=>t+e,0),nt=(t,e,n)=>(e[0]-t[0])*(n[1]-e[1])<(e[1]-t[1])*(n[0]-e[0]),rt=[255,87,34,225],ot=[180,180,180,240];(t=>{const e=(t=>async function(){await t.apply(void 0,arguments),self.postMessage(M())})(t);self.solverConfig={detailLevel:0,delay:10,fullSpeed:!1,paused:!1},self.setBestPath=function(){self.postMessage(z.apply(r,arguments))},self.setEvaluatingPaths=function(t,e){if(void 0===e&&(e=1),self.solverConfig.detailLevel>=e){const{paths:e,cost:n}=t();self.postMessage(Y(e,n))}},self.setEvaluatingPath=function(t,e){if(void 0===e&&(e=1),self.solverConfig.detailLevel>=e){const{path:e,cost:n}=t();self.postMessage(W(e,n))}},self.waitPause=async()=>{for(;self.solverConfig.paused;)await new Promise(t=>setTimeout(t,500))},self.sleep=async()=>{if(self.solverConfig.paused)return await self.waitPause();const t=self.solverConfig.fullSpeed?0:self.solverConfig.delay||10;return new Promise(e=>{setTimeout(e,t)})},self.onmessage=async t=>{let{data:n}=t;switch(n.type){case p:self.solverConfig.delay=n.delay,self.solverConfig.detailLevel=n.evaluatingDetailLevel,self.solverConfig.fullSpeed=n.fullSpeed,e(n.points);break;case l:self.solverConfig.delay=n.delay;break;case f:self.solverConfig.detailLevel=n.level;break;case d:self.solverConfig.evaluatingDetailLevel=0,self.solverConfig.fullSpeed=!0;break;case T:self.solverConfig.paused=!0;break;case E:self.solverConfig.paused=!1;break;default:throw new Error(\"invalid action sent to solver \"+n.type)}}})(async t=>{const e=t[0];let n=t[0];for(const s of t)s[1]<n[1]&&(n=s);const r=[n];for(;;){const e=r[r.length-1];let[o,s]=[0,null];for(let[n,i]of t.entries())self.setEvaluatingPaths(()=>({paths:[{path:[...r,s||e],color:ot},{path:[e,i],color:rt}]}),2),await self.sleep(),s&&!nt(e,i,s)||([o,s]=[n,i]);if(t.splice(o,1),s===n)break;r.push(s)}for(self.setEvaluatingPaths(()=>({paths:[{path:r,color:rt}],cost:et(r)})),await self.sleep();t.length>0;){let[e,n,o]=[1/0,null,0];for(let[i,u]of t.entries()){let[t,s]=[1/0,0];for(let[e,n]of r.entries()){const o=r[(e+1)%r.length],i=et([n,u,o])-et([n,o]);i<t&&([t,s]=[i,e])}const a=r[(s+1)%r.length],l=et([r[s],a]),f=et([r[s],u,a])/l;f<e&&([e,n,o]=[f,i,s+1])}const[s]=t.splice(n,1);r.splice(o,0,s),self.setEvaluatingPaths(()=>({paths:[{path:r}],cost:et(r)})),await self.sleep()}((t,e)=>{const n=t.findIndex(t=>t===e);t.unshift.apply(t,tt(t.splice(n,t.length)))})(r,e),r.push(e);const o=et(r);self.setEvaluatingPaths(()=>({paths:[{path:r}],cost:o})),self.setBestPath(r,o)})}});","extractedComments":[]}